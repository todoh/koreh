<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Koreh Dev VersiÃ³n</title>
    <!-- Link to the external CSS file -->
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>âšª</text></svg>">
<meta property="og:title" content="Koreh Dev Version" />
<meta property="og:description" content="AI Agent for Make Your Own MMO" />
<meta property="og:image" content="https://raw.githubusercontent.com/todoh/koreh/main/baner.png" />
<meta property="og:url" content="https://www.koreh.eu" />
<meta property="og:type" content="website" />

</head>
<body>

    <!-- Login view, shown initially -->
    <div id="login-view" class="view">
        <h1>Bienvenido al Mundo Virtual</h1>
        <p>Introduce tu usuario y contraseÃ±a para entrar o registrarte.</p>
        <input type="text" id="username-input" placeholder="Tu nombre de usuario...">
        <input type="password" id="password-input" placeholder="Tu contraseÃ±a...">
        <button id="login-button">Entrar / Registrarse</button>
        <p id="login-error" class="error-message"></p>
    </div>

    <!-- Main container for the virtual world -->
    <div class="container">
        <div id="world-view" class="view">
            <h2 id="room-name" style="display: none;" ></h2>
            <!-- Container where the 3D scene will be rendered -->
            <div id="threejs-container"></div>
            
     <div id="health-bar-container">
                <div id="health-bar-level"></div>
            </div>

            <!-- UI Overlays -->
            <div id="ui-overlay">
                <!-- Avatar change button -->
                <button id="avatar-button" title="Cambiar Avatar">ðŸ‘¤</button>

                <!-- Zoom control buttons -->
                <div id="zoom-controls">
                    <button id="zoom-in-button" title="Acercar">+</button>
                    <button id="zoom-out-button" title="Alejar">-</button>
                </div>
                <!-- Container for the list of users in the room -->
                <div id="user-list-container">
                    <h3 id="user-list-toggle">Usuarios en la sala:</h3>
                    <ul id="users-in-room"></ul>
                </div>
            </div>

            <button id="leave-room-button">Salir y Guardar</button>
        </div>
    </div>

    <!-- Avatar Selection Modal -->
    <div id="avatar-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <span class="modal-close-button">&times;</span>
            <h2>Elige tu Avatar</h2>
            <div id="avatar-options">
                <!-- Avatares existentes -->
                <div class="avatar-option" data-avatar="ronin">
                    <img src="https://raw.githubusercontent.com/todoh/koreh/main/ronin.png" alt="Avatar Ronin" onerror="this.src='https://placehold.co/100x100/333/fff?text=Ronin';">
                    <p>Ronin</p>
                </div>
                <div class="avatar-option" data-avatar="kunoichi">
                    <img src="https://raw.githubusercontent.com/todoh/koreh/main/kunoichi.png" alt="Avatar Kunoichi" onerror="this.src='https://placehold.co/100x100/333/fff?text=Kunoichi';">
                    <p>Kunoichi</p>
                </div>
                <!-- Nuevos avatares -->
                <div class="avatar-option" data-avatar="samurai">
                    <img src="https://raw.githubusercontent.com/todoh/koreh/main/samurai.png" alt="Avatar Samurai" onerror="this.src='https://placehold.co/100x100/333/fff?text=Samurai';">
                    <p>Samurai</p>
                </div>
                <div class="avatar-option" data-avatar="rey">
                    <img src="https://raw.githubusercontent.com/todoh/koreh/main/rey.png" alt="Avatar Rey" onerror="this.src='https://placehold.co/100x100/333/fff?text=Rey';">
                    <p>Rey</p>
                </div>
                <div class="avatar-option" data-avatar="reina">
                    <img src="https://raw.githubusercontent.com/todoh/koreh/main/reina.png" alt="Avatar Reina" onerror="this.src='https://placehold.co/100x100/333/fff?text=Reina';">
                    <p>Reina</p>
                </div>
                <div class="avatar-option" data-avatar="damisela">
                    <img src="https://raw.githubusercontent.com/todoh/koreh/main/damisela.png" alt="Avatar Damisela" onerror="this.src='https://placehold.co/100x100/333/fff?text=Damisela';">
                    <p>Damisela</p>
                </div>
                <div class="avatar-option" data-avatar="ciudadana">
                    <img src="https://raw.githubusercontent.com/todoh/koreh/main/ciudadana.png" alt="Avatar Ciudadana" onerror="this.src='https://placehold.co/100x100/333/fff?text=Ciudadana';">
                    <p>Ciudadana</p>
                </div>
                <div class="avatar-option" data-avatar="pijo">
                    <img src="https://raw.githubusercontent.com/todoh/koreh/main/pijo.png" alt="Avatar Pijo" onerror="this.src='https://placehold.co/100x100/333/fff?text=Pijo';">
                    <p>Pijo</p>
                </div>
                <div class="avatar-option" data-avatar="chamana">
                    <img src="https://raw.githubusercontent.com/todoh/koreh/main/chamana.png" alt="Avatar Chamana" onerror="this.src='https://placehold.co/100x100/333/fff?text=Chamana';">
                    <p>Chamana</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase Libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <!-- Import Map for Three.js -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.165.0/build/three.module.js",
                "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.165.0/examples/jsm/",
                "./world.js": "./world.js"
            }
        }
    </script>

    <!-- Main application logic script -->
         <script type="module" src="world-data.js"></script>
    <script type="module" src="main.js"></script>

</body>
</html>
